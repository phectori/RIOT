APPLICATION = driver_mrf24j40
include ../Makefile.tests_common

FEATURES_REQUIRED = periph_spi periph_gpio

DISABLE_MODULE += auto_init

USEMODULE += od
USEMODULE += shell
USEMODULE += shell_commands
USEMODULE += ps

MRF24J40_PARAM_SPI         = (SPI_0)
MRF24J40_PARAM_SPI_SPEED   = (SPI_SPEED_5MHZ)
MRF24J40_PARAM_CS          = (GPIO_PIN(0, 8))
MRF24J40_PARAM_INT         = (GPIO_PIN(1, 10))
MRF24J40_PARAM_SLEEP       = (GPIO_PIN(1, 4))
MRF24J40_PARAM_RESET       = (GPIO_PIN(1, 5))

# export parameters
CFLAGS += -DMRF24J40_PARAM_SPI=$(MRF24J40_PARAM_SPI)
CFLAGS += -DMRF24J40_PARAM_SPI_SPEED=$(MRF24J40_PARAM_SPI_SPEED)
CFLAGS += -DMRF24J40_PARAM_CS=$(MRF24J40_PARAM_CS)
CFLAGS += -DMRF24J40_PARAM_INT=$(MRF24J40_PARAM_INT)
CFLAGS += -DMRF24J40_PARAM_SLEEP=$(MRF24J40_PARAM_SLEEP)
CFLAGS += -DMRF24J40_PARAM_RESET=$(MRF24J40_PARAM_RESET)

# include the selected driver
USEMODULE += mrf24j40

# Remove this Fritsk
BOARD = nucleo-f401

include $(RIOTBASE)/Makefile.include
